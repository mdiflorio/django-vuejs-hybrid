(function(e){function t(t){for(var r,a,l=t[0],s=t[1],c=t[2],d=0,b=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&b.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(b.length)b.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={album_form:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("c7a0")},4790:function(e,t,n){},c7a0:function(e,t,n){"use strict";n.r(t);var r=n("a026"),i=(n("4790"),n("9ab4")),o=n("60a3");const a='\n        <div class="form-group">\n            <div class="form-check">\n                <input\n                    :name="name"\n                    :class="{checkboxinput: true, \'form-check-input\': true, \'is-invalid\': errors}"\n                    :type="fieldType"\n                    v-model="binding"\n                />\n                <InputLabel :label="field.label" :required="field.required" />\n                <InputErrors :errors="errors" />\n            </div>\n        </div>\n',l='\n        <div class="mb-4">\n            <InputLabel :label="field.label" :required="field.required" />\n            <select\n                :name="name"\n                :multiple="multiSelect"\n                :required="field.required"\n                v-model="binding"\n                \n                class="block w-full \n                bg-white border border-gray-400 \n                hover:border-gray-500 px-2 py-2 pr-8 \n                rounded shadow leading-tight \n                focus:outline-none focus:shadow-outline"                \n                \n                :class="{ \'border-red-500\': errors }"\n            >\n                <option v-for="choice in field.choices" :value="choice.value">\n                    {{ choice.display_name }}\n                </option>\n            </select>\n            <InputErrors :errors="errors" />\n        </div>\n',s='\n        <div class="mb-4">\n            <InputLabel :label="field.label" :required="field.required" />\n            <input\n                :name="name"\n                :type="fieldType"\n                v-model="binding"\n                :required="field.required"\n                class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2  rounded shadow leading-tight focus:outline-none focus:shadow-outline"\n                :class="{ \'border-red-500\': errors }"\n            />\n            <InputErrors :errors="errors" />\n        </div>\n';var c={checkbox:a,select:l,standard:s};let u=class extends r["a"]{};Object(i["a"])([Object(o["b"])()],u.prototype,"label",void 0),Object(i["a"])([Object(o["b"])({default:!1})],u.prototype,"required",void 0),u=Object(i["a"])([Object(o["a"])({name:"InputLabel",template:'\n        <label class="block text-gray-700 text-sm font-bold mb-2">\n            {{ label }}\n            <span v-if="required">*</span></label\n        >\n    '})],u);var d=u;let b=class extends r["a"]{};Object(i["a"])([Object(o["b"])()],b.prototype,"errors",void 0),b=Object(i["a"])([Object(o["a"])({name:"InputErrors",template:'\n        <div v-if="errors">\n            <p class="m-3 text-red-500 italic" v-for="error in errors">\n                {{ error }}\n            </p>\n        </div>\n    '})],b);var p=b;let f=class extends r["a"]{constructor(){super(...arguments),this.binding=""}get InputTemplate(){switch(this.fieldType){case"checkbox":return c.checkbox;case"field":return c.select;default:return c.standard}}get fieldType(){switch(this.field.type){case"string":return"text";case"integer":return"number";case"boolean":return"checkbox";default:return this.field.type}}onChangeValue(e){this.$emit("on-change",this.name,e)}created(){this.binding=this.initial,this.$options.template=this.InputTemplate}};Object(i["a"])([Object(o["b"])()],f.prototype,"name",void 0),Object(i["a"])([Object(o["b"])()],f.prototype,"field",void 0),Object(i["a"])([Object(o["b"])()],f.prototype,"initial",void 0),Object(i["a"])([Object(o["b"])()],f.prototype,"errors",void 0),Object(i["a"])([Object(o["b"])({default:!1})],f.prototype,"multiSelect",void 0),Object(i["a"])([Object(o["c"])("binding")],f.prototype,"onChangeValue",null),f=Object(i["a"])([Object(o["a"])({name:"Input",components:{InputLabel:d,InputErrors:p}})],f);var h=f,m=n("bc3a"),v=n.n(m);function g(e){if(document.cookie.length>0){let t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;let n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""}const y=v.a.create({baseURL:"/music",headers:{"X-CSRFToken":g("csrftoken")}}),O='\n    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">   \n        <h1 class="text-2xl text-gray-700 mb-3">{{ title }}</h1>\n        <div v-if="loading" >\n            Loading...\n        </div>\n        <form \n            v-else \n            @submit="submitForm" >\n                <Input \n                    v-for="(field, fieldName) in fields"\n                    :key="fieldName"\n                    :name="fieldName"\n                    :initial="formData[fieldName]"\n                    :field="field"\n                    :errors="errors[fieldName]"\n                    @on-change="onChangeField"\n                />\n                <div class="flex justify-end">\n                  <button \n                      class="bg-blue-500 hover:bg-blue-700 text-white \n                      font-bold py-2 px-4 rounded \n                      focus:outline-none focus:shadow-outline" \n                      type="submit">\n                    Submit\n                  </button>\n                </div>\n        </form>\n    </div>\n';let j=class extends r["a"]{constructor(){super(...arguments),this.title="",this.formData={},this.fields={},this.errors={},this.loading=!0}mounted(){this.album_id=album_id,this.album_id?this.title="Update album":this.title="Add new album",this.formData={artist:0,name:"test",releaseDate:"",numStars:0},this.getFormOptions(),this.getAlbumData()}getAlbumData(){this.album_id&&y.get("/api/albums/"+this.album_id).then(e=>{this.formData=e.data}).catch(e=>{console.log("err",e)})}getFormOptions(){y.options("/api/albums").then(e=>{this.fields=e.data.actions.POST}).catch(e=>{console.log("err",e)}).finally(()=>{this.loading=!1})}submitForm(e){this.album_id?y.put("/api/albums/"+this.album_id,this.formData).then(this.handleSuccessSubmit).catch(this.handleErrorSubmit):y.post("/api/albums/",this.formData).then(this.handleSuccessSubmit).catch(this.handleErrorSubmit),e.preventDefault()}handleSuccessSubmit(e){alert("Success!")}handleErrorSubmit(e){this.errors=e.response.data}onChangeField(e,t){this.formData[e]=t}};j=Object(i["a"])([Object(o["a"])({template:O,name:"AlbumForm",components:{Input:h}})],j);var x=j;new r["a"]({el:"#app",components:{AlbumForm:x}})}});